env:
  MAVEN_ARGS: -B --no-transfer-progress
  MAVEN_OPTS: -Xms1024M -Xmx2048M -XX:MaxMetaspaceSize=1024m -XX:-UseGCOverheadLimit
    -Dhttp.keepAlive=false -Dmaven.wagon.http.pool=false -Dmaven.wagon.http.retryHandler.count=3
jobs:
  license-check:
    runs-on: self-hosted
    steps:
    - continue-on-error: true
      name: Checkout
      uses: actions/checkout@v4
    - continue-on-error: true
      name: Set up JDK 11
      uses: actions/setup-java@v4
      with:
        distribution: temurin
        java-version: 11
    - continue-on-error: true
      name: Check Rat
      run: ./mvnw apache-rat:check -Prat ${MAVEN_ARGS}
  maven-validate:
    runs-on: self-hosted
    steps:
    - continue-on-error: true
      name: Checkout
      uses: actions/checkout@v4
    - continue-on-error: true
      name: Set up JDK 11
      uses: actions/setup-java@v4
      with:
        distribution: temurin
        java-version: 11
    - continue-on-error: true
      name: Run Maven Validate
      run: ./mvnw validate -P${{ matrix.hadoop }} -Pinclude-hadoop ${MAVEN_ARGS}
    strategy:
      fail-fast: false
      matrix:
        hadoop:
        - hadoop3
name: quick
on:
  repository_dispatch:
    types: trigger-ga___quick.yml
permissions:
  contents: read
